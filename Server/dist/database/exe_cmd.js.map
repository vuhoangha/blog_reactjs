{"version":3,"sources":["../../src/database/exe_cmd.js"],"names":["client","createClient","isConnect","on","module","exports","command","arg","callback","res","send_command","err","data"],"mappings":"AAAA;AACA;;AAEA;;AAEA;;;;;;AAEA,IAAMA,SAAS,gBAAMC,YAAN,CAAmB,MAAnB,EAA2B,WAA3B,CAAf;;AAEA,IAAIC,YAAY,KAAhB;;AAEAF,OAAOG,EAAP,CAAU,SAAV,EAAqB,YAAM;;AAEvBD,gBAAY,IAAZ;AAEH,CAJD;;AAMAF,OAAOG,EAAP,CAAU,OAAV,EAAmB,YAAM;;AAErBD,gBAAY,KAAZ;AAEH,CAJD;;AAMAE,OAAOC,OAAP,GAAiB,UAACC,OAAD,EAAUC,GAAV,EAAeC,QAAf,EAAyBC,GAAzB,EAAiC;;AAE9C,QAAIP,SAAJ,EAAe;;AAEXF,eAAOU,YAAP,CAAoBJ,OAApB,EAA6BC,GAA7B,EAAkC,UAACI,GAAD,EAAMC,IAAN,EAAe;;AAE7CJ,qBAASI,IAAT,EAAeH,GAAf;AAEH,SAJD;AAMH,KARD,MAQO;;AAEHD,iBAAS,IAAT;AAEH;AAEJ,CAhBD","file":"exe_cmd.js","sourcesContent":["/*eslint linebreak-style: [\"error\", \"windows\"]*/\r\n/*eslint padded-blocks: [\"error\", \"always\"]*/\r\n\r\n'use strict';\r\n\r\nimport redis from '../../node_modules/redis';\r\n\r\nconst client = redis.createClient('6379', '127.0.0.1');\r\n\r\nlet isConnect = false;\r\n\r\nclient.on('connect', () => {\r\n\r\n    isConnect = true;\r\n\r\n});\r\n\r\nclient.on('error', () => {\r\n\r\n    isConnect = false;\r\n\r\n});\r\n\r\nmodule.exports = (command, arg, callback, res) => {\r\n\r\n    if (isConnect) {\r\n\r\n        client.send_command(command, arg, (err, data) => {\r\n\r\n            callback(data, res);\r\n            \r\n        });\r\n\r\n    } else {\r\n\r\n        callback(null);\r\n\r\n    }\r\n\r\n};\r\n"]}